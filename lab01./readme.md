
# –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞: –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å –ø–æ–º–æ—â—å—é Shell —Å–∫—Ä–∏–ø—Ç–∞

## –¶–µ–ª—å —Ä–∞–±–æ—Ç—ã
–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏ –≤–∞–∂–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Shell —Å–∫—Ä–∏–ø—Ç–∞ `backup.sh`.  
–°–∫—Ä–∏–ø—Ç –¥–æ–ª–∂–µ–Ω:  
- –ü—Ä–∏–Ω–∏–º–∞—Ç—å –¥–≤–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–∞: –∏—Å—Ö–æ–¥–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –±—ç–∫–∞–ø–∞ (–≤—Ç–æ—Ä–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `/backup`).  
- –°–æ–∑–¥–∞–≤–∞—Ç—å –∞—Ä—Ö–∏–≤ —Ñ–æ—Ä–º–∞—Ç–∞ `.tar.gz` —Å —Ç–µ–∫—É—â–µ–π –¥–∞—Ç–æ–π –≤ –∏–º–µ–Ω–∏.  
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –∏ –≤—ã–≤–æ–¥–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö.  
## –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è —á–∞—Å—Ç—å

### 1. –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ (backup)

–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–ø–∏–π –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∏—Ö —Å–æ—Ö—Ä–∞–Ω–Ω–æ—Å—Ç–∏ –∏ –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –≤ —Å–ª—É—á–∞–µ –ø–æ—Ç–µ—Ä–∏ –∏–ª–∏ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è –∏—Å—Ö–æ–¥–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏. –û—Å–Ω–æ–≤–Ω—ã–µ —Ü–µ–ª–∏ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:

- –ó–∞—â–∏—Ç–∞ –¥–∞–Ω–Ω—ã—Ö –æ—Ç —Å–ª—É—á–∞–π–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è –∏–ª–∏ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è.
- –û–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –ø–æ—Å–ª–µ —Å–±–æ–µ–≤.
- –•—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –≤–µ—Ä—Å–∏–π —Ñ–∞–π–ª–æ–≤ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π.

–¢–∏–ø—ã —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:

1. **–ü–æ–ª–Ω–æ–µ (Full backup)** ‚Äì –∫–æ–ø–∏—Ä—É—é—Ç—Å—è –≤—Å–µ —Ñ–∞–π–ª—ã –∏ –ø–∞–ø–∫–∏.
2. **–ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–Ω–æ–µ (Incremental backup)** ‚Äì –∫–æ–ø–∏—Ä—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –±—ç–∫–∞–ø–∞.
3. **–î–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–µ (Differential backup)** ‚Äì –∫–æ–ø–∏—Ä—É—é—Ç—Å—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ø–æ–ª–Ω–æ–≥–æ –±—ç–∫–∞–ø–∞.

---

### 2. –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é tar –∏ gzip

–í Linux/Unix-—Å–∏—Å—Ç–µ–º–∞—Ö –¥–ª—è —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —É—Ç–∏–ª–∏—Ç—ã `tar` –∏ `gzip`:

- **tar** (Tape Archive) ‚Äî –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∞–π–ª–æ–≤ –∏ –∫–∞—Ç–∞–ª–æ–≥–æ–≤ –≤ –æ–¥–∏–Ω –∞—Ä—Ö–∏–≤.  
  –ü—Ä–∏–º–µ—Ä –∫–æ–º–∞–Ω–¥—ã:

```
  tar -czf backup.tar.gz /path/to/source
```
---

## –•–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã

### –®–∞–≥ 1. –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–°–æ–∑–¥–∞–Ω–∞ —Ä–∞–±–æ—á–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `lab1` —Å –ø–æ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è–º–∏:

```
mkdir -p lab1/source lab1/dest
cd lab1
```

–í –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é source –¥–æ–±–∞–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã:

```
echo "–¢–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª 1" > source/file1.txt
echo "–¢–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª 2" > source/file2.txt
mkdir -p source/subdir
echo "–ü–æ–¥—Ñ–∞–π–ª" > source/subdir/file3.txt
```
<img width="553" height="305" alt="image" src="https://github.com/user-attachments/assets/cad31ad2-209b-4865-a227-e6f402d4a07f" />

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–∫–∏ source –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤:
```
üìÅ source
‚îú‚îÄ üìÑ file1.txt
‚îú‚îÄ üìÑ file2.txt
‚îî‚îÄ üìÅ subdir
   ‚îî‚îÄ üìÑ file3.txt
   ```
<img width="518" height="215" alt="image" src="https://github.com/user-attachments/assets/020087eb-2cef-43c8-b17e-f77225d6409c" />

### –®–∞–≥ 2. –°–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ backup.sh
–§–∞–π–ª backup.sh —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥:

```
set -euo pipefail

usage() {
  echo "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: $0 <source_dir> [destination_dir]"
  exit 1
}

SOURCE_DIR="${1:-}"
DEST_DIR="${2:-/backup}"

if [[ -z "$SOURCE_DIR" ]]; then
  echo "–û—à–∏–±–∫–∞: –Ω–µ —É–∫–∞–∑–∞–Ω –ø—É—Ç—å –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è –±—ç–∫–∞–ø–∞."
  usage
fi

if [[ ! -d "$SOURCE_DIR" ]]; then
  echo "–û—à–∏–±–∫–∞: –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è '$SOURCE_DIR' –Ω–µ –Ω–∞–π–¥–µ–Ω–∞."
  exit 2
fi

if [[ ! -d "$DEST_DIR" ]]; then
  echo "–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è '$DEST_DIR' –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç. –°–æ–∑–¥–∞—é..."
  mkdir -p "$DEST_DIR" || { echo "–û—à–∏–±–∫–∞: –Ω–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å '$DEST_DIR'."; exit 3; }
fi

BASENAME=$(basename "$SOURCE_DIR")
DATE="$(date +%Y-%m-%d_%H-%M-%S)"
ARCHIVE_NAME="${BASENAME}_backup_${DATE}.tar.gz"
ARCHIVE_PATH="${DEST_DIR%/}/$ARCHIVE_NAME"

TMP_ARCHIVE="${ARCHIVE_PATH}.part"

cleanup_on_exit() {
  local rc=$?
  [[ -f "$TMP_ARCHIVE" ]] && rm -f "$TMP_ARCHIVE"
  exit $rc
}
trap cleanup_on_exit EXIT

echo "–°–æ–∑–¥–∞—é –±—ç–∫–∞–ø '$SOURCE_DIR' -> '$ARCHIVE_PATH' ..."
tar -C "$(dirname "$SOURCE_DIR")" -czf "$TMP_ARCHIVE" "$(basename "$SOURCE_DIR")"

mv "$TMP_ARCHIVE" "$ARCHIVE_PATH"

echo "–ë—ç–∫–∞–ø —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω: $ARCHIVE_PATH"
ls -lh "$ARCHIVE_PATH"

trap - EXIT
exit 0
```
<img width="727" height="471" alt="image" src="https://github.com/user-attachments/assets/08c36066-6c92-4793-92a5-36399c1fed27" />

### –®–∞–≥ 3. –ü—Ä–∏—Å–≤–æ–µ–Ω–∏–µ –ø—Ä–∞–≤ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

```
chmod +x backup.sh
```
### –®–∞–≥ 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —Å–∫—Ä–∏–ø—Ç–∞

–°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞ –≤ –ø–∞–ø–∫—É dest:
```
./backup.sh ./source ./dest
```
<img width="1201" height="207" alt="image" src="https://github.com/user-attachments/assets/9f4b1045-96fd-4956-bbba-80b6f7fc9251" />

### –í—ã–≤–æ–¥ —Å–∫—Ä–∏–ø—Ç–∞:

```
–°–æ–∑–¥–∞—é –±—ç–∫–∞–ø './source' -> './dest/source_backup_2025-09-13_22-32-20.tar.gz' ...
–ë—ç–∫–∞–ø —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω: ./dest/source_backup_2025-09-13_22-32-20.tar.gz
-rw-r--r-- 1 mihai 197609 271 Sep 13 22:32 ./dest/source_backup_2025-09-13_22-32-20.tar.gz
```

```
tar -tzf dest/source_backup_*.tar.gz
```
```
source/
source/file1.txt
source/file2.txt
source/subdir/
source/subdir/file3.txt
```
<img width="887" height="232" alt="image" src="https://github.com/user-attachments/assets/041b00c8-3323-4161-a067-150912d28f8e" />

## –í—ã–≤–æ–¥ 

–í —Ö–æ–¥–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç—ã —è —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–ª Shell-—Å–∫—Ä–∏–ø—Ç `backup.sh`, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –≤–∞–∂–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö. –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏ –≤—Ä—É—á–Ω—É—é ‚Äî –∑–∞–¥–∞—á–∞ —Ä—É—Ç–∏–Ω–Ω–∞—è –∏ –ø–æ–¥–≤–µ—Ä–∂–µ–Ω–Ω–∞—è –æ—à–∏–±–∫–∞–º, –ø–æ—ç—Ç–æ–º—É –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —ç—Ç–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ø—Ä–æ—â–∞–µ—Ç —Ä–∞–±–æ—Ç—É –∏ —Å–Ω–∏–∂–∞–µ—Ç —Ä–∏—Å–∫ –ø–æ—Ç–µ—Ä–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏. 

–°–∫—Ä–∏–ø—Ç backup.sh —É—Å–ø–µ—à–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:
–°–æ–∑–¥–∞—ë—Ç –∞—Ä—Ö–∏–≤ —Å —Ç–µ–∫—É—â–µ–π –¥–∞—Ç–æ–π –∏ –≤—Ä–µ–º–µ–Ω–µ–º.
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–æ–π –∏ —Ü–µ–ª–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏.
–í—ã–≤–æ–¥–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö.
–ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç—ã.

–í —Ü–µ–ª–æ–º, –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —ç—Ç–æ–π —Ä–∞–±–æ—Ç—ã –ø–æ–∑–≤–æ–ª–∏–ª–æ –Ω–µ —Ç–æ–ª—å–∫–æ –∑–∞–∫—Ä–µ–ø–∏—Ç—å –Ω–∞–≤—ã–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ Shell, –Ω–æ –∏ –ø–æ–Ω—è—Ç—å –≤–∞–∂–Ω–æ—Å—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ–π —Ä–∞–±–æ—Ç–µ —Å –¥–∞–Ω–Ω—ã–º–∏. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ä—É—Ç–∏–Ω–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ ‚Äî –∫–ª—é—á –∫ –Ω–∞–¥—ë–∂–Ω–æ–π –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–±–æ—Ç–µ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π, –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–æ–±–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞ —è–≤–ª—è–µ—Ç—Å—è —è—Ä–∫–∏–º –ø—Ä–∏–º–µ—Ä–æ–º –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏—Ö –∑–Ω–∞–Ω–∏–π.

## –ë–∏–±–ª–∏–æ–≥—Ä–∞—Ñ–∏—è

1. GNU Tar Manual. [https://www.gnu.org/software/tar/manual/tar.html](https://www.gnu.org/software/tar/manual/tar.html)  
2. Bash Reference Manual. [https://www.gnu.org/software/bash/manual/](https://www.gnu.org/software/bash/manual/)
3. Debian Documentation ‚Äî  https://www.debian.org/doc/
